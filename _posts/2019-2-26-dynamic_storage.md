---
layout: post
title:  "C++的动态内存（待完成）"
categories: 考点
tags: memory
excerpt: new、delete...
author: Tizeng
---

* content
{:toc}

* 栈：在函数内部声明的所有变量都将占用栈内存

* 堆：这是程序中未使用的内存，在程序运行时可用于动态分配内存

在C++中，可以使用`new`运算符为给定类型的变量在运行时分配堆内的内存，这会返回所分配的空间地址。如果您不再需要动态分配的内存空间，可以使用`delete`运算符，删除之前由`new`运算符分配的内存。

`new`的功能是在堆区新建一个对象，并返回该对象的指针。所谓的新建对象的意思就是，将调用该类的构造函数，因为如果不构造的话，就不能称之为一个对象。而 `malloc`只是机械的分配一块内存，如果用`mallco`在堆区创建一个对象的话，是不会调用构造函数的。

## 内存泄漏

## 堆栈溢出

堆栈溢出（stack overflow）在计算机科学中是指使用过多的存储器时导致调用堆栈产生的溢出。堆栈溢出的产生是由于过多的函数调用，导致调用堆栈无法容纳这些调用的返回地址，一般在递归中产生。堆栈溢出很可能由无限递归（Infinite recursion）产生，比如：

```c++
int foo(){
    return foo();
}
```

但也可能仅仅是过多的堆栈层级。