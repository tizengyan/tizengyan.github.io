---
layout: post
title: "《深度探索C++对象模型》读书笔记"
date: 2026-1-20
categories: 
excerpt: 简单记录一下读这本书的一些心得
author: Tizeng
---

* content
{:toc}

这本书毕业时就有耳闻，买来之后发现以当时的水平根本看不下去，现在陆续把基本c++有关的书都读了之后，是时候补一下这本书了。
购于2019.2.28

## 与C的关系

第一章提到c++为了与c兼容费了不少劲，如class和struct，二者在底层被视为同类，除了访问级别的区别，更多的是我们想要一个什么样的数据结构。

C中一些对struct的操作到了c++可能会失效。如在struct的末尾声明一个单元素的数组，在分配内存的时候可以按需多分配任意那个数组类型大小的内存，达到“柔性数组”的目的。
其原理是利用了c允许访问超出数组大小的元素，而在struct末尾多分配的内存保证是连续的，因此我们可以按自己的需要去分配和访问。
但到了c++情况就不同了，因为class内存的布局和public、protect、private的位置有关，只有在同一个acess section内的成员，才保证其在内存中按顺序分布，不同的section中的成员是不确定的。
